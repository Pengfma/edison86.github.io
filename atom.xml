<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Edison的部落格</title>
  <subtitle>Edison的部落格</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://edison86.github.io/"/>
  <updated>2016-08-21T10:50:53.174Z</updated>
  <id>http://edison86.github.io/</id>
  
  <author>
    <name>Edison</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JS数组去重</title>
    <link href="http://edison86.github.io/2016/08/21/js%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D/"/>
    <id>http://edison86.github.io/2016/08/21/js数组去重/</id>
    <published>2016-08-21T11:47:44.605Z</published>
    <updated>2016-08-21T10:50:53.174Z</updated>
    
    <content type="html"><![CDATA[<p>今天学习es6，学到了一个简单高效的js去重方法，现在整理一下几种数组去重的方法。</p>
<h3 id="方法1（效率不高）："><a href="#方法1（效率不高）：" class="headerlink" title="方法1（效率不高）："></a>方法1（效率不高）：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.unique1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> res = []; <span class="comment">//创建一个新的临时数组</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>,len=<span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">        <span class="comment">//如果临时数组有当前项，则跳过；没有则添加到临时数组。</span></div><div class="line">        <span class="keyword">if</span> (res.indexOf(<span class="keyword">this</span>[i]) == <span class="number">-1</span>)&#123;</div><div class="line">            res.push(<span class="keyword">this</span>[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">1</span>,<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>,<span class="string">'b'</span>, <span class="string">'e'</span>, <span class="number">2</span>, <span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(arr.unique1())</div></pre></td></tr></table></figure>
<h3 id="方法2（有局限性）："><a href="#方法2（有局限性）：" class="headerlink" title="方法2（有局限性）："></a>方法2（有局限性）：</h3><p>注：由于得到的数组是排序后的数组，所以有一定的局限性。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.unique2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.sort(); <span class="comment">// 将数组排序</span></div><div class="line">    <span class="keyword">var</span> res = [<span class="keyword">this</span>[<span class="number">0</span>]]; <span class="comment">//创建一个新的临时数组</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>,len=<span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>[i]!==res[res.length<span class="number">-1</span>])&#123;</div><div class="line">            res.push(<span class="keyword">this</span>[i])</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">1</span>,<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>,<span class="string">'b'</span>, <span class="string">'e'</span>, <span class="number">2</span>, <span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(arr.unique2())</div></pre></td></tr></table></figure></p>
<h3 id="方法3（推荐）："><a href="#方法3（推荐）：" class="headerlink" title="方法3（推荐）："></a>方法3（推荐）：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.unique3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> res = []; <span class="comment">//创建一个空的临时数组</span></div><div class="line">    <span class="keyword">var</span> json = &#123;&#125;; <span class="comment">//创建一个空对象</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>,len=<span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">        <span class="comment">//将数组元素与对象中的属性对比，</span></div><div class="line">        <span class="comment">//如果对象中有此属性，则跳过；如果没有此属性，将此元素添加到临时数组中，</span></div><div class="line">        <span class="comment">//同时将此元素作为对象的一个属性，并赋值为1，添加到对象中。</span></div><div class="line">        <span class="keyword">if</span> (!json[<span class="keyword">this</span>[i]])&#123;</div><div class="line">            res.push(<span class="keyword">this</span>[i]);</div><div class="line">		    json[<span class="keyword">this</span>[i]]=<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">1</span>,<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>,<span class="string">'b'</span>, <span class="string">'e'</span>, <span class="number">2</span>, <span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(arr.unique3())</div></pre></td></tr></table></figure>
<h3 id="方法4（推荐）："><a href="#方法4（推荐）：" class="headerlink" title="方法4（推荐）："></a>方法4（推荐）：</h3><p>注：利用es6中的set数据结构和Array.from()方法，简单高效！<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.unique3 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>(<span class="keyword">this</span>);</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(set);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">1</span>,<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>,<span class="string">'b'</span>, <span class="string">'e'</span>, <span class="number">2</span>, <span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(arr.unique4())</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天学习es6，学到了一个简单高效的js去重方法，现在整理一下几种数组去重的方法。&lt;/p&gt;
&lt;h3 id=&quot;方法1（效率不高）：&quot;&gt;&lt;a href=&quot;#方法1（效率不高）：&quot; class=&quot;headerlink&quot; title=&quot;方法1（效率不高）：&quot;&gt;&lt;/a&gt;方法1（效率不
    
    </summary>
    
      <category term="JS" scheme="http://edison86.github.io/categories/JS/"/>
    
    
      <category term="数组" scheme="http://edison86.github.io/tags/%E6%95%B0%E7%BB%84/"/>
    
  </entry>
  
</feed>
